// file      : bpkg/pkg-purge -*- C++ -*-
// copyright : Copyright (c) 2014-2015 Code Synthesis Ltd
// license   : MIT; see accompanying LICENSE file

#ifndef BPKG_PKG_PURGE
#define BPKG_PKG_PURGE

#include <bpkg/types>
#include <bpkg/forward> // transaction, selected_package
#include <bpkg/pkg-purge-options>

namespace bpkg
{
  void
  pkg_purge (const pkg_purge_options&, cli::scanner& args);

  // Remove package's filesystem objects (the source directory and, if
  // the archive argument is true, the package archive). If this fails,
  // set the package state to broken, commit the transaction, and fail.
  //
  void
  pkg_purge_fs (const dir_path& configuration,
                transaction&,
                const shared_ptr<selected_package>&,
                bool archive = true);
}

#endif // BPKG_PKG_PURGE
