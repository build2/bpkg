// file      : bpkg/pkg-disfigure -*- C++ -*-
// copyright : Copyright (c) 2014-2015 Code Synthesis Ltd
// license   : MIT; see accompanying LICENSE file

#ifndef BPKG_PKG_DISFIGURE
#define BPKG_PKG_DISFIGURE

#include <bpkg/types>
#include <bpkg/forward> // transaction, selected_package
#include <bpkg/pkg-disfigure-options>

namespace bpkg
{
  int
  pkg_disfigure (const pkg_disfigure_options&, cli::scanner& args);

  // Disfigure the package, update its state, and commit the
  // transaction. If the package state is broken, then this
  // is taken to mean it hasn't been successfully configured
  // and no clean prior to disfigure is necessary (or possible,
  // for that matter).
  //
  void
  pkg_disfigure (const dir_path& configuration,
                 const common_options&,
                 transaction&,
                 const shared_ptr<selected_package>&);
}

#endif // BPKG_PKG_DISFIGURE
